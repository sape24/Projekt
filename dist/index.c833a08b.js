let e=document.getElementById("open-menu"),t=document.getElementById("close-menu");function n(){let e=document.getElementById("mobilemenu");"none"===window.getComputedStyle(e).display?e.style.display="block":e.style.display="none"}async function a(){let e=document.getElementById("locationinput").value;try{let t=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${e}`);if(!t.ok)throw Error("Nätverksproblem - felaktigt svar från servern");let n=await t.json(),a=parseFloat(n[0].lat),r=parseFloat(n[0].lon),l=document.getElementById("mapcont"),i=document.getElementById("loader");i.classList.remove("hidden"),l.src=`https://www.openstreetmap.org/export/embed.html?bbox=${r-.01},${a-.01},${r+.01},${a+.01}&layer=mapnik&marker=${a},${r}`,l.onload=()=>{i.classList.add("hidden")},o(a,r)}catch(e){console.error("Det uppstod ett fel:",e.message)}}async function o(e,t){try{let n=await fetch(`https://api.met.no/weatherapi/locationforecast/2.0/compact?lat=${e}&lon=${t}`,{headers:{"User-Agent":"sape2402@student.miun.se"}});if(!n.ok)throw Error("Nätverksproblem - felaktigt svar från servern");let a=await n.json();!function(e){let t=e.properties.timeseries.slice(0,24),n=document.querySelector("#weatherTable tbody");n.innerHTML="",t.forEach(e=>{let t=new Date(e.time).toLocaleTimeString("sv-SE",{hour:"2-digit",minute:"2-digit"}),a=e.data.instant.details.air_temperature,o=e.data.next_1_hours?.details?.precipitation_amount??e.data.next_6_hours?.details?.precipitation_amount??0,r=document.createElement("tr"),l=document.createElement("td");l.textContent=t;let i=document.createElement("td");i.textContent=a+" °C";let d=document.createElement("td");d.textContent=o+" mm",r.appendChild(l),r.appendChild(i),r.appendChild(d),n.appendChild(r)})}(a)}catch(e){console.error("Det uppstod ett fel:",e.message)}}e.addEventListener("click",n),t.addEventListener("click",n),document.getElementById("searchbut").addEventListener("click",a);
//# sourceMappingURL=index.c833a08b.js.map
